#* @vtlvariable name="om" type="org.nrg.xdat.om.ClaraModel" *#
#* @vtlvariable name="element" type="org.nrg.xdat.schema.SchemaElement" *#
#* @vtlvariable name="project" type="java.lang.String" *#
#* @vtlvariable name="search_field" type="java.lang.String" *#
#* @vtlvariable name="search_value" type="java.lang.String" *#
#* @vtlvariable name="turbineUtils" type="org.nrg.xdat.turbine.utils.TurbineUtils" *#
#* @vtlvariable name="user" type="org.nrg.xdat.security.XDATUser" *#
#* @vtlvariable name="item" type="org.nrg.xft.XFTItem" *#
<!-- BEGIN META-INF/resources/templates/screens/XDATScreen_report_clara_model.vm -->
#if($project)

#else
    #set($project=$om.getProject())
#end
#parse("/screens/reportPageActionEnablers.vm")

<h2>Dataset Definition: $item.getProperty("label")</h2>

<div id="actions-box" class="pull-right">
    #elementActionsBoxNoEnd($element $search_field $search_value $user $item)
	    #addCustomScreens("$element" "actionsBox")
</div>
</div>
</div>
<div id="experiment-summary" style="width: 70%">
    <!-- BEGIN SET AND PARSE SUMMARY TABS -->
    #addCustomScreens($om.getXSIType() "report/preContent")
    #set($summary_tabs=$turbineUtils.getTemplateName("_summary_tabs","sets:definition", $project))
    #parse($turbineUtils.getTemplateName("_summary_tabs","sets:definition", $project))
    <!-- END SET AND PARSE SUMMARY TABS -->
</div>

<div class="clearfix clear" style="margin: 2em 0"></div>

<h3>Dataset Criteria:</h3>
<div id="sets-definition-payload">
    $!item.getStringProperty("sets:definition/criteria/payload")
</div>

<script>
    // prettify the JSON output
    $(document).ready(function(){
        var container = $('#sets-definition-payload');
        var criteria = JSON.parse(container.html());
        container.html(prettifyJSON(criteria));
    });
</script>
<!-- END META-INF/resources/templates/screens/XDATScreen_report_clara_model.vm -->
