#* @vtlvariable name="content" type="org.apache.turbine.services.pull.tools.ContentTool" *#
#* @vtlvariable name="projectId" type="java.lang.String" *#
#* @vtlvariable name="data" type="org.apache.turbine.util.RunData" *#
<!--suppress HtmlUnknownAnchorTarget -->
<!-- BEGIN META-INF/resources/templates/screens/pages/collections/dashboard.vm -->
#set ($SITE_ROOT = $content.getURI(""))

<style type="text/css">
    .panel-heading .btn { margin-top: -4px; }
</style>

<h2 class="edit_header1">
    Manage Datasets for <a href="${SITE_ROOT}/data/projects/$!{projectId}?format=html">$!{projectId}</a>
</h2>

<div class="content-tabs xnat-tab-container" style="display: block;">

    <div class="xnat-nav-tabs side left pull-left">
        <ul class="nav tab-group" id="collections-ui-project-tab-group" style="display: block;">
            <li class="tab active" data-tab="project-dataset-criteria">
                <a title="Dataset Types and Criteria" href="#project-dataset-criteria">Dataset Types and Criteria <span class="criteria-count"></span></a>
            </li>
            <li class="tab" data-tab="project-saved-datasets">
                <a title="Data Collections" href="#project-saved-datasets">Saved Datasets <span class="datasets-count"></span></a>
            </li>
        </ul>
    </div>


    <div class="xnat-tab-content side right pull-right">
        <div class="tab-pane active" data-name="projectDatasetCriteriaTab" data-tab="project-dataset-criteria">
            <div class="panel panel-default" style="" id="project-dataset-criteria-panel">
                <div class="panel-heading">
                    <span class="pull-right"><button class="btn btn-sm" onclick="XNAT.plugin.collection.sets.createDefinition()">Create Dataset Definition</button></span>
                    <h3 class="panel-title">Dataset Criteria Definitions</h3>
                </div>
                <div class="panel-body" style="">
                    <div id="proj-dataset-criteria-list-container">
                        <div class="message no-criteria">No dataset criteria have been defined in this project. Currently supported dataset types are: "TaggedResourceMap (ClaraTrain)".</div>
                    </div>
                </div>
                <div class="panel-footer"></div>
                <div class="hidden"></div>
            </div>
            <br>
            <div class="panel panel-default" style="" id="project-dataset-validation-panel">
                <div class="panel-heading">
                    <span class="pull-right"><button class="btn btn-sm disabled">Save Dataset</button></span>
                    <h3 class="panel-title">Dataset Validation</h3>
                </div>
                <div class="panel-body" style="">
                    <div id="proj-dataset-criteria-list-container">
                        <div class="message no-criteria">This panel will display an overview of project data as it relates to a set of defined dataset criteria. Currently, no dataset criteria have been defined for this project. </div>
                    </div>
                </div>
                <div class="panel-footer"></div>
                <div class="hidden"></div>
            </div>
        </div>
        <div class="tab-pane" data-name="projectSavedDatasetsTab" data-tab="project-saved-datasets">
            <div class="panel panel-default" style="" id="project-saved-datasets-panel">
                <div class="panel-heading">
                    <h3 class="panel-title">Saved Datasets</h3>
                </div>
                <div class="panel-body" style="">
                    <div class="message">This panel shows all defined datasets for this project. </div>
                    <div id="proj-data-collection-list-container">
                        <p>No datasets have been saved in this project yet.</p>
                    </div>
                </div>
                <div class="panel-footer"></div>
                <div class="hidden"></div>
            </div>
        </div>
    </div>
</div>

<script src="${SITE_ROOT}/scripts/xnat/plugin/collections/datasetDefinition.js"></script>
<script src="${SITE_ROOT}/scripts/xnat/plugin/collections/datasetDashboard.js"></script>
<!-- END META-INF/resources/templates/screens/pages/clara/training/dashboard.vm -->
